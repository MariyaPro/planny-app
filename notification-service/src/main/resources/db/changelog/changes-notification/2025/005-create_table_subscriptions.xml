<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd">

    <changeSet id="2025-005-001" author="mprokofeva">
        <sql>
            create table notifications.subscriptions
            (
                id           uuid         not null
                    constraint subscriptions_pkey primary key,
                recipient_id uuid not null
                    constraint subscriptions_recipients_fk references notifications.recipients,
                report_type_id uuid not null
                    constraint subscriptions_report_types_fk references notifications.report_types,
                delivery_method  varchar(32) not null ,
                active       boolean default true,
                updated      timestamp
            );
        </sql>
        <rollback>
            <sql>
                drop table notifications.subscriptions
            </sql>
        </rollback>
    </changeSet>

</databaseChangeLog>